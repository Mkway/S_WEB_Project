# 🎬 4회차 발표 실시간 시연 시나리오

## 🎯 시연 개요
- **총 시간**: 10분
- **목표**: 실제 공격 실행을 통한 기술적 우수성 증명
- **핵심 메시지**: "시뮬레이션이 아닌 실제 공격"

---

## 📋 시연 시나리오 (우선순위 순)

### 🥇 **1순위: 통합 대시보드 시연** (2분)
**목적**: 전체 시스템 개요 및 관리 기능 소개

#### 🎬 **시연 순서**
1. **브라우저 접속**: `http://localhost/websec-lab/src/`
2. **대시보드 메인 페이지** 시연
   - 20개+ 취약점 모듈 한눈에 보기
   - 완성도 진행률 표시
   - 실시간 상태 업데이트
3. **통계 및 분석** 기능
   - 테스트 수행 횟수
   - 성공/실패 비율
   - 보안 권고사항 요약
4. **관리 기능** 시연
   - 취약점 모드 토글
   - 로그 추적 기능

#### 💬 **발표 스크립트**
> "3회차와 달리 이제는 모든 취약점을 하나의 통합 대시보드에서 관리할 수 있습니다. 20개가 넘는 모듈이 실시간으로 관리되고 있으며, 각각의 테스트 결과가 즉시 반영됩니다."

---

### 🥈 **2순위: MongoDB NoSQL Injection 실제 실행** (3분)
**목적**: 새로운 NoSQL 환경 구축 성과 및 실제 데이터 추출

#### 🎬 **시연 순서**
1. **Docker 컨테이너 확인**
   ```bash
   docker ps | grep mongo
   ```
2. **NoSQL Injection 모듈 접속**
   - `http://localhost/websec-lab/src/webhacking/nosql_injection.php`
3. **MongoDB 연결 상태 확인**
   - 4개 컬렉션 (users, products, posts, logs) 표시
4. **실제 NoSQL Injection 공격 실행**
   ```javascript
   // 악성 페이로드 입력
   {"$ne": null}
   {"$where": "this.password.length > 0"}
   ```
5. **데이터 추출 결과 확인**
   - 사용자 정보 무단 추출
   - 관리자 계정 정보 노출
6. **안전한 구현과 비교**
   - 입력 검증이 적용된 결과 표시

#### 💬 **발표 스크립트**
> "기존 SQL Injection과 달리 NoSQL 환경에서는 JSON 기반의 오퍼레이터 인젝션이 가능합니다. 실제로 MongoDB에서 사용자 데이터를 추출하는 과정을 보시겠습니다. 이는 시뮬레이션이 아닌 실제 데이터베이스에서 실행되는 공격입니다."

---

### 🥉 **3순위: Java Deserialization RCE 공격** (3분)
**목적**: 고급 취약점 모듈 및 Node.js 환경 연동 시연

#### 🎬 **시연 순서**
1. **Node.js 서버 상태 확인**
   ```bash
   curl http://localhost:3000/health
   ```
2. **Java Deserialization 모듈 접속**
   - `http://localhost/websec-lab/src/webhacking/test_deserialization.php`
3. **ysoserial 도구 활용**
   - Gadget 체인 선택 (CommonsBeanutils1)
   - 악성 페이로드 생성
4. **실제 RCE 공격 실행**
   ```bash
   # 예시 페이로드 (시스템 명령어 실행)
   whoami
   ls -la /tmp
   echo "RCE_SUCCESS" > /tmp/hacked.txt
   ```
5. **공격 결과 확인**
   - Node.js 서버에서 명령어 실행 결과 출력
   - 파일 생성 확인
6. **방어 기법 설명**
   - 화이트리스트 기반 역직렬화
   - 입력 검증 강화

#### 💬 **발표 스크립트**
> "이제 가장 위험한 공격 중 하나인 Remote Code Execution을 실행해보겠습니다. ysoserial 도구를 활용해 악성 직렬화 데이터를 생성하고, 실제로 시스템 명령어를 실행시키는 과정입니다. 이는 교육용 시뮬레이션이 아닌 실제 서버에서 동작하는 공격입니다."

---

### 🏅 **4순위: Race Condition 동시성 공격** (2분)
**목적**: 멀티스레드 환경에서의 동시성 취약점 시연

#### 🎬 **시연 순서**
1. **Race Condition 모듈 접속**
   - `http://localhost/websec-lab/src/webhacking/race_condition.php`
2. **초기 상태 확인**
   - 사용자 잔액: 1000원
   - 상품 가격: 900원
3. **동시 요청 공격 실행**
   ```javascript
   // JavaScript Promise.all()로 동시 요청
   Promise.all([
     fetch('/buy_product', {method: 'POST'}),
     fetch('/buy_product', {method: 'POST'}),
     fetch('/buy_product', {method: 'POST'})
   ]);
   ```
4. **공격 결과 확인**
   - 잔액보다 많은 구매 성공
   - TOCTOU 취약점 실행 결과
5. **락(Lock) 메커니즘 적용 후 비교**
   - Redis 락 적용된 안전한 구현
   - 동일 공격 차단 확인

#### 💬 **발표 스크립트**
> "마지막으로 멀티스레드 환경에서 발생하는 Race Condition 공격을 보여드리겠습니다. 동시에 여러 요청을 보내 잔액보다 많은 금액을 결제하는 공격입니다. 이후 Redis 락 메커니즘으로 이를 방어하는 과정도 함께 보여드리겠습니다."

---

## 🛠️ 시연 준비사항

### 📋 **사전 체크리스트**
- [ ] **Docker 컨테이너 실행 상태 확인**
  ```bash
  docker-compose up -d
  docker ps
  ```
- [ ] **MongoDB 데이터 초기화**
  ```bash
  docker exec -it mongodb mongosh
  use websec_lab
  db.users.find()
  ```
- [ ] **Redis 서버 연결 확인**
  ```bash
  docker exec -it redis redis-cli ping
  ```
- [ ] **Node.js 서버 상태 확인**
  ```bash
  curl http://localhost:3000/health
  ```
- [ ] **웹 서버 접속 확인**
  ```bash
  curl http://localhost/websec-lab/src/
  ```

### 🔧 **백업 계획**
1. **스크린샷 준비**
   - 각 공격 단계별 결과 화면
   - 성공/실패 시나리오 이미지
2. **동영상 녹화**
   - 전체 시연 과정 사전 녹화
   - 네트워크 문제 시 재생용
3. **오프라인 데모**
   - 로컬 환경에서 실행 가능한 백업
   - USB 또는 로컬 서버 준비

### 🎯 **위험 요소 대비책**
1. **네트워크 연결 실패**
   - 모바일 핫스팟 백업
   - 사전 녹화 영상 준비
2. **Docker 컨테이너 오류**
   - `docker-compose restart` 명령어 준비
   - 로그 확인 명령어 숙지
3. **브라우저 호환성 문제**
   - Chrome, Firefox 멀티 브라우저 준비
   - 개발자 도구 사전 설정

---

## 📝 Q&A 예상 질문 및 답변

### ❓ **예상 질문 1**: "실제 공격과 시뮬레이션의 차이점은?"
**답변**: "시뮬레이션은 결과만 보여주지만, 저희는 실제 데이터베이스에서 데이터를 추출하고, 실제 서버에서 명령어를 실행합니다. 교육적 효과가 완전히 다릅니다."

### ❓ **예상 질문 2**: "보안이 걱정되는데, 안전한가요?"
**답변**: "Docker 컨테이너로 완전히 격리된 환경에서 실행되며, 실제 시스템에는 영향을 주지 않습니다. 교육 목적으로만 설계되어 있습니다."

### ❓ **예상 질문 3**: "어떤 환경에서 활용할 수 있나요?"
**답변**: "대학교 정보보안 수업, 기업 개발자 교육, 개인 보안 학습 등 다양한 환경에서 활용 가능합니다. 특히 실무진도 펜테스팅 연습용으로 사용할 수 있습니다."

### ❓ **예상 질문 4**: "다른 교육 도구와의 차별점은?"
**답변**: "기존 도구들은 대부분 이론 중심이거나 제한적인 시뮬레이션입니다. 저희는 20개가 넘는 실제 취약점을 다중 환경에서 실행할 수 있는 유일한 플랫폼입니다."

---

## ⏰ 타임라인 요약

| 시간 | 내용 | 핵심 포인트 |
|------|------|------------|
| **0-2분** | 통합 대시보드 | 전체 시스템 개요, 관리 기능 |
| **2-5분** | MongoDB NoSQL Injection | 실제 데이터 추출, 새로운 환경 |
| **5-8분** | Java Deserialization RCE | 시스템 명령어 실행, 고급 공격 |
| **8-10분** | Race Condition | 동시성 공격, 방어 기법 |

**총 10분 완성!** 🎯

---

## 🎬 최종 점검 사항

### ✅ **기술적 준비**
- Docker 환경 안정성 확인
- 네트워크 연결 백업 방안
- 브라우저 개발자 도구 설정

### ✅ **발표 준비**
- 스크립트 숙지 및 연습
- 시간 배분 정확성 확인
- 백업 자료 준비 완료

### ✅ **상호작용 준비**
- 예상 질문 답변 준비
- 추가 시연 요청 대응 방안
- 기술적 질문 대응 능력

**"실제 공격 실행을 통한 압도적인 기술력 시연으로 4회차 발표를 성공적으로 마무리하겠습니다!"** 🚀